{# @var sections \App\Entity\Section[] #}

{% extends "@admin/base.html.twig" %}

{% block title %}Sections - {{ parent() }}{% endblock %}

{% block body %}
    <div class="spacer spacer_bottom">
        <a href="{{ path('admin_section_new') }}" class="button button_link">{{ "admin.section.create"|trans }}</a>
    </div>
    {% if sections is empty %}
        <p>There is no sections</p>
    {% else %}
    <table class="table">
        <thead>
        <tr class="table__row table__row_thread">
            <th class="table__col table__col_thread">Id</th>
            <th class="table__col table__col_thread">Title</th>
            <th class="table__col table__col_thread">Status</th>
            <th class="table__col table__col_thread">Position</th>
            <th class="table__col table__col_thread">Level</th>
            <th class="table__col table__col_thread">Slug</th>
            <th class="table__col table__col_thread">Text</th>
            <th class="table__col table__col_thread">Parent</th>
            <th class="table__col table__col_thread">Articles</th>
            <th class="table__col table__col_thread">actions</th>
        </tr>
        </thead>
        <tbody>
        {% for section in sections %}
            <tr class="table__row">
                <td class="table__col">{{ section.id }}</td>
                <td class="table__col">{{ section.title }}</td>
                <td class="table__col">{{ section.status }}</td>
                <td class="table__col">{{ section.position }}</td>
                <td class="table__col">{{ section.level }}</td>
                <td class="table__col">{{ section.slug }}</td>
                <td class="table__col">{{ section.text }}</td>
                <td class="table__col">{{ section.parent.title ?? '' }}</td>
                <td class="table__col">{{ section.articlesCount }}</td>
                <td class="table__col">
                    <a class="button button_link" href="{{ path('admin_section_show', {'id': section.id}) }}">show</a>
                    <a class="button button_link" href="{{ path('admin_section_edit', {'id': section.id}) }}">edit</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="8">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {% endif %}

    <a class="button button_link" href="{{ path('admin_section_new') }}">Create new</a>
{% endblock %}
