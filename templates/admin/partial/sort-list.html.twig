{# @var fields string[] #}
{# @var pagination \Knp\Component\Pager\Pagination\PaginationInterface #}
{# @var alias string #}

<div>
    <span>{{ "sort-by"|trans }}:</span>
    {% for field in fields %}
        {% set fieldCaption = field|humanize %}
        {% set key = alias ~ '.' ~ field %}

        {% if options[field] is defined %}
            {% if options[field]['nested'] is defined and options[field]['nested'] == true %}
                {% set key = options[field]['nestedAliasedField'] %}
            {% endif %}
        {% endif %}

        {{ knp_pagination_sortable(pagination, fieldCaption, key) }}
    {% endfor %}
</div>
